# PRP: Implement Typhoon Tile with Unified Data Architecture

## Feature Overview

Implement a new Typhoon tile using the unified data fetching architecture, retrieving data from the CWB API with `fetchAndMap` and ensuring type safety, testability, and consistency with the new structure. No scraping fallback is used; the tile uses only the CWB API.

## User Stories

- As a user, I want to see up-to-date typhoon data in the dashboard.
- As a developer, I want the Typhoon tile to use the centralized dataFetcher and dataMapper for all data access, using only the CWB API.

## Technical Requirements

- Implement the Typhoon tile’s data hook to use `fetchAndMap` from `dataFetcher` for the CWB API.
- Implement and register a dataMapper for the API data.
- Define and use appropriate types/interfaces for the API response and tile data.
- Add unit tests for the tile’s data hook and data mapping.

## UI/UX Considerations

- Tile must display loading, error, and data states consistently.
- Design should clearly present typhoon name, category, position, and forecast.

## Testing Requirements

- Unit tests for the data hook and data mapping.
- Mock all API calls in tests.
- Ensure error and loading states are tested.

## Accessibility Requirements

- Tile must be accessible (e.g., ARIA roles, keyboard navigation, readable data presentation).

## Performance Considerations

- Ensure caching and background refresh logic is respected.

## Implementation Steps

1. Implement the tile’s data hook to use `fetchAndMap` for CWB API.
2. Implement and register the dataMapper for CWB API.
3. Define and use types/interfaces for API and tile data.
4. Add unit tests.
5. Run `npm run lint` and fix any issues.
6. Perform structure check and fix inconsistencies.

## Potential Risks and Mitigation

- **Risk:** Incorrect data mapping or display. **Mitigation:** Add comprehensive tests and verify tile works after implementation.

## References

- See `API_RESEARCH.md` Typhoon section.
- See CWB API documentation for endpoint details.
